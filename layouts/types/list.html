{{ define "main" }}
{{- /*
  Types Taxonomy List - Shows all note types

  Displays:
  - fleeting: Quick captures, ideas to process later
  - literature: Notes from reading/learning
  - permanent: Refined, atomic ideas
  - moc: Maps of Content - index pages
*/ -}}

<div class="max-w-4xl mx-auto">
  <header class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">{{ i18n "noteTypes" | default "Note Types" }}</h1>
    <p class="text-gray-600 dark:text-gray-400">{{ i18n "noteTypesDescription" | default "Browse notes by their type in the zettelkasten system" }}</p>
  </header>

  <div class="grid gap-6 md:grid-cols-2">
    {{- /* Define type metadata */ -}}
    {{- $typeInfo := dict
      "fleeting" (dict "icon" "draft" "color" "amber" "description" "Quick captures and ideas to process later")
      "literature" (dict "icon" "book" "color" "blue" "description" "Notes from reading, courses, and external sources")
      "permanent" (dict "icon" "check" "color" "green" "description" "Refined, atomic ideas in your own words")
      "moc" (dict "icon" "map" "color" "purple" "description" "Maps of Content - index pages linking related notes")
    -}}

    {{ range .Data.Terms.Alphabetical }}
      {{- $info := index $typeInfo .Name -}}
      {{- $colorClass := "gray" -}}
      {{- with $info }}{{ $colorClass = .color }}{{ end -}}

      <a href="{{ .Page.RelPermalink }}" class="block p-6 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-{{ $colorClass }}-500 dark:hover:border-{{ $colorClass }}-400 transition-colors">
        <div class="flex items-center gap-3 mb-2">
          {{- /* Type icon */ -}}
          <span class="w-10 h-10 rounded-full bg-{{ $colorClass }}-100 dark:bg-{{ $colorClass }}-900/30 flex items-center justify-center">
            {{ if eq .Name "fleeting" }}
              <svg class="w-5 h-5 text-{{ $colorClass }}-600 dark:text-{{ $colorClass }}-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
              </svg>
            {{ else if eq .Name "literature" }}
              <svg class="w-5 h-5 text-{{ $colorClass }}-600 dark:text-{{ $colorClass }}-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
              </svg>
            {{ else if eq .Name "permanent" }}
              <svg class="w-5 h-5 text-{{ $colorClass }}-600 dark:text-{{ $colorClass }}-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            {{ else if eq .Name "moc" }}
              <svg class="w-5 h-5 text-{{ $colorClass }}-600 dark:text-{{ $colorClass }}-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path>
              </svg>
            {{ else }}
              <svg class="w-5 h-5 text-{{ $colorClass }}-600 dark:text-{{ $colorClass }}-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
              </svg>
            {{ end }}
          </span>

          <div>
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white capitalize">
              {{ i18n (printf "noteType_%s" .Name) | default .Name }}
            </h2>
            <span class="text-sm text-gray-500 dark:text-gray-400">{{ .Count }} {{ i18n "notes" | default "notes" }}</span>
          </div>
        </div>

        {{ with $info }}
        <p class="text-gray-600 dark:text-gray-400 text-sm">{{ .description }}</p>
        {{ end }}
      </a>
    {{ end }}
  </div>
</div>
{{ end }}
