<header class="py-6 border-b border-gray-200 dark:border-gray-700">
  <nav class="flex items-center justify-between flex-wrap gap-4">
    {{- /* Site title / logo */ -}}
    <a href="{{ .Site.BaseURL }}" class="text-xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
      {{ .Site.Title }}
    </a>

    {{- /* Mobile menu button */ -}}
    <button id="menu-toggle" class="lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800" aria-label="Toggle menu">
      {{ partial "svg/menu.html" }}
    </button>

    {{- /* Navigation links */ -}}
    <div id="nav-menu" class="hidden lg:flex items-center gap-6 w-full lg:w-auto">
      {{ range .Site.Menus.main }}
      <a href="{{ .URL }}" class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors{{ if $.IsMenuCurrent "main" . }} font-semibold text-gray-900 dark:text-white{{ end }}">
        {{ .Name }}
      </a>
      {{ end }}

      {{- /* Language switcher (temporarily hidden)
      {{ partial "language-switcher.html" . }}
      */ -}}

      {{- /* Random note link */ -}}
      {{ if .Site.Params.showRandomNote | default true }}
      <a href="#" id="random-note" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white" aria-label="{{ i18n "randomNote" | default "Random Note" }}" title="{{ i18n "randomNote" | default "Random Note" }}">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
        </svg>
      </a>
      <script>
        (function() {
          const pages = [{{- range $i, $p := .Site.RegularPages -}}{{- if $i }},{{ end }}"{{ $p.RelPermalink }}"{{- end -}}];
          const btn = document.getElementById('random-note');
          if (btn && pages.length > 0) {
            btn.addEventListener('click', function(e) {
              e.preventDefault();
              const randomPage = pages[Math.floor(Math.random() * pages.length)];
              window.location.href = randomPage;
            });
          }
        })();
      </script>
      {{ end }}

      {{- /* Dark mode toggle */ -}}
      <button id="theme-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" aria-label="Toggle dark mode">
        <span class="dark:hidden">{{ partial "svg/moon.html" }}</span>
        <span class="hidden dark:inline">{{ partial "svg/sun.html" }}</span>
      </button>
    </div>
  </nav>
</header>
